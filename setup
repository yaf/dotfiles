#!/bin/sh

DOTFILES_DIR=~/.config/dotfiles/
HOME_DIR=/home/yaf
cd $DOTFILES_DIR

mkdir -p ~/.vim/bundle
mkdir -p ~/.vim/backup

if [ -f ~/.vimrc ]; then
  backup_filename=~/.vimrc.bak;
  echo ".vimrc found. move it to $backup_filename"
  mv ~/.vimrc $backup_filename;
fi
ln -s $DOTFILES_DIR/vimrc ~/.vimrc

if [ -f ~/.gvimrc ]; then
  backup_filename=~/.gvimrc.bak;
  echo ".gvimrc found. move it to $backup_filename"
  mv ~/.gvimrc $backup_filename;
fi
ln -s $DOTFILES_DIR/gvimrc ~/.gvimrc

if [ -f ~/.gitconfig ]; then
  backup_filename=~/.gitconfig.bak;
  echo ".gitconfig found. move it to $backup_filename"
  mv ~/.gitconfig $backup_filename;
fi
ln -s $DOTFILES_DIR/gitconfig ~/.gitconfig

if [ -f ~/.zshrc ]; then
  backup_filename=~/.zshrc.bak;
  echo ".zshrc found. move it to $backup_filename"
  mv ~/.zshrc $backup_filename;
fi
ln -s $DOTFILES_DIR/zshrc ~/.zshrc

if [ -f ~/.profile ]; then
  backup_filename=~/.profile.bak;
  echo ".profile found. move it to $backup_filename"
  mv ~/.profile $backup_filename;
fi
ln -s $DOTFILES_DIR/.profile ~/.profile

if [ -f ~/.gemrc ]; then
  backup_filename=~/.gemrc.bak;
  echo ".gemrc found. move it to $backup_filename"
  mv ~/.gemrc $backup_filename;
fi
ln -s $DOTFILES_DIR/gemrc ~/.gemrc

if [ -f ~/.tmux.conf ]; then
  backup_filename=~/.tmux.conf.bak;
  echo ".tmux.conf found. move it to $backup_filename"
  mv ~/.tmux.conf $backup_filename;
fi
ln -s $DOTFILES_DIR/tmux.conf ~/.tmux.conf

if [ -f ~/.irssi/config ]; then
  backup_filename=~/.irssi/config.bak;
  echo ".irssi/config found. move it to $backup_filename"
  mv ~/.irssi/config $backup_filename;
fi
mkdir -p ~/.irssi
ln -s $DOTFILES_DIR/irssi.conf ~/.irssi/config

if [ -f ~/.bundle/config ]; then
  backup_filename=~/.bundle/config.bak;
  echo ".bundle/config found. move it to $backup_filename"
  mv ~/.bundle/config $backup_filename;
fi
mkdir -p ~/.bundle
ln -s $DOTFILES_DIR/bundleconfig ~/.bundle/config

if [ -f ~/.xmonad/xmonad.hs ]; then
  backup_filename=~/.xmonad/xmonad.hs.bak;
  echo ".xmonad/xmonad.hs found. move it to $backup_filename"
  mv ~/.xmonad/xmonad.hs $backup_filename;
fi
if [ -f ~/.xmonad/xmobarrc ]; then
  backup_filename=~/.xmonad/xmobarrc.bak;
  echo ".xmonad/xmobarrc found. move it to $backup_filename"
  mv ~/.xmonad/xmobarrc $backup_filename;
fi

mkdir -p ~/.xmonad
ln -s $DOTFILES_DIR/xmonad/xmonad.hs ~/.xmonad/xmonad.hs
ln -s $DOTFILES_DIR/xmonad/xmobarrc ~/.xmonad/xmobarrc

if [ ! -f ~/.bundle/config ]; then
  mkdir -p ~/.vim/bundle
  git clone http://github.com/gmarik/vundle.git ~/.vim/bundle/vundle
fi

vim -c :BundleInstall

